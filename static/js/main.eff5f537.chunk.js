(this["webpackJsonpcountries-api"]=this["webpackJsonpcountries-api"]||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(6),o=n.n(a),s=(n(14),n(2),n(3)),i=n(0);function u(e){var t=e.country,n=e.countryCardClicked,r=t.name.common,c=t.population,a=t.region,o=t.capital,s=function(e,t){return Object(i.jsxs)("span",{children:[Object(i.jsxs)("span",{className:"info-text-bold",children:[e,": "]}),null!==t&&void 0!==t?t:"N/A"]})};return Object(i.jsxs)("div",{className:"country-card",onClick:function(){return n(t)},children:[Object(i.jsx)("img",{className:"country-card__img",src:t.flags.png,alt:"",style:{borderBottom:"1px solid black"}}),Object(i.jsxs)("div",{className:"country-card__info",children:[Object(i.jsx)("h2",{children:r}),s("Population",c.toLocaleString()),s("Region",a),s("Capital",o)]})]})}function l(e){var t=e.countries,n=e.countryCardClicked;return Object(i.jsx)("div",{className:"country-cards",children:function(){var e=function(e){return e.sort((function(e,t){var n=e.name.common,r=t.name.common;return n>r?1:n<r?-1:0}))}(t);return e.map((function(e,t){return t>7?null:Object(i.jsx)(u,{country:e,countryCardClicked:n},t)}))}()})}function j(e){var t=e.countryProvider,n=e.countries,c=e.setCountries,a=e.setFilteredCountries,o=Object(r.useState)(""),u=Object(s.a)(o,2),l=u[0],j=u[1],d=Object(r.useState)(void 0),b=Object(s.a)(d,2),m=b[0],h=b[1];Object(r.useEffect)((function(){t.GetCountriesAsync().then((function(e){return c(e)}))}),[]),Object(r.useEffect)((function(){f()}),[n,l,m]);var f=function(){var e=t.FilterCountriesByName(n,l),r=t.FilterCountriesByRegion(e,m);a(r)};return Object(i.jsxs)("div",{className:"search-area",children:[Object(i.jsxs)("div",{className:"search-area__country-textbox",children:[Object(i.jsx)("img",{src:"".concat("/REST-Country-API","/search-light.svg"),alt:"search icon"}),Object(i.jsx)("input",{style:{width:"100%"},placeholder:"Search for a country...",type:"search",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(i.jsxs)("select",{className:"search-area__region-dropdown",placeholder:"Select a region...",value:m,onChange:function(e){return h(e.target.value)},children:[Object(i.jsx)("option",{value:void 0,label:"Select a region..."}),t.GetRegions(n).map((function(e,t){return Object(i.jsx)("option",{value:e.name,label:e.name},t)}))]})]})}var d=n(5),b=n.n(d),m=n(7),h=n(8),f=n(9),v=function(){function e(t){Object(h.a)(this,e),this.restEndPoint=void 0,this.stringsMatchInLowerCase=function(e,t){return e.toLowerCase()===t.toLowerCase()},this.stringIncludesInLowerCase=function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n.includes(r)},this.restEndPoint=t}return Object(f.a)(e,[{key:"GetCountriesAsync",value:function(){var e=Object(m.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.restEndPoint);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"GetCountryAbbreviations",value:function(e){for(var t={},n=0;n<e.length;n++)t[e[n].cca3]=e[n];return t}},{key:"GetRegions",value:function(e){var t=e.map((function(e){return e.region}));return Array.from(new Set(t)).map((function(e){return{name:e}}))}},{key:"FilterCountriesByName",value:function(e,t){var n=this;return 0===t.length?e:e.filter((function(e){var r=e.name.common;return n.stringIncludesInLowerCase(r,t)}))}},{key:"FilterCountriesByRegion",value:function(e,t){var n=this;return void 0===t||0===t.length?e:e.filter((function(e){var r=e.region;return n.stringsMatchInLowerCase(r,t)}))}}]),e}();function O(e){var t=e.label,n=e.textValue;return Object(i.jsxs)("p",{children:[Object(i.jsxs)("span",{className:"info-text-bold",children:[t,": "]}),null!==n&&void 0!==n?n:"N/A"]})}function x(e){var t,n=e.country,r=e.backButtonClick,c=e.countryAbbreviations,a=n.name.common,o=n.name.official,s=n.name.nativeName,u=void 0===s?"N/A":Object.values(s)[0].common,l=n.population,j=n.region,d=n.subregion,b=n.capital,m=n.currencies,h=n.languages,f=n.flags,v=n.borders,x=void 0===h?0:Object.keys(h).length;t=0===x?"N/A":Object.keys(h).map((function(e){return h[e]})).join(", ");var g,y=x>1?"Languages":"Language",p=void 0===m?0:Object.keys(m).length;g=0===p?"N/A":Object.keys(m).map((function(e){return m[e].name})).join(", ");var C=p>1?"Currencies":"Currency";return Object(i.jsxs)("div",{className:"country-details",children:[Object(i.jsx)("div",{className:"country-details__back",children:Object(i.jsx)("button",{className:"country-details__back__button",onClick:r,children:Object(i.jsx)("img",{src:"".concat("/REST-Country-API","/corner-down-left-light.svg"),alt:"return icon"})})}),Object(i.jsx)("img",{className:"country-details__image",src:f.png,alt:"Country flag"}),Object(i.jsxs)("div",{className:"country-details__info",children:[Object(i.jsx)("h1",{className:"country-details__info__heading",children:a}),Object(i.jsxs)("div",{className:"country-details__info__texts",children:[Object(i.jsx)(O,{label:"Official name",textValue:o}),Object(i.jsx)(O,{label:"Native name",textValue:u}),Object(i.jsx)(O,{label:"Population",textValue:l.toLocaleString()}),Object(i.jsx)(O,{label:"Region",textValue:j}),Object(i.jsx)(O,{label:"Sub region",textValue:d}),Object(i.jsx)(O,{label:"Capital",textValue:b}),Object(i.jsx)(O,{label:C,textValue:g}),Object(i.jsx)(O,{label:y,textValue:t})]}),Object(i.jsxs)("div",{className:"country-details__info__border-countries",children:[Object(i.jsx)("span",{className:"info-text-bold",style:{alignSelf:"center"},children:"Border countries: "}),(null===v||void 0===v?void 0:v.length)>0?v.map((function(e){var t=c[e].name.common;return Object(i.jsx)("button",{className:"border-country-button",disabled:!0,children:t},t)})):Object(i.jsx)("span",{children:" Country has no border countries."})]})]})]})}function g(){var e,t=Object(r.useState)([]),n=Object(s.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)([]),u=Object(s.a)(o,2),d=u[0],b=u[1],m=Object(r.useState)(void 0),h=Object(s.a)(m,2),f=h[0],O=h[1],g=new v("https://restcountries.com/v3.1/all");return e=void 0!==f?Object(i.jsx)(x,{country:f,backButtonClick:function(){return O(void 0)},countryAbbreviations:g.GetCountryAbbreviations(c)}):Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)(j,{countries:c,setCountries:a,setFilteredCountries:b,countryProvider:g}),Object(i.jsx)(l,{countries:d,countryCardClicked:function(e){return O(e)}})]}),Object(i.jsx)("div",{className:"content",children:e})}function y(){return Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)("h1",{children:"What in the world?"}),Object(i.jsxs)("button",{className:"header__dark-mode-button",onClick:function(){document.body.classList.toggle("dark-mode")},children:[Object(i.jsx)("img",{src:"".concat("/REST-Country-API","/moon-light.svg"),alt:"dark mode moon"}),Object(i.jsx)("span",{children:"Dark mode"})]})]})}function p(){return Object(i.jsxs)("div",{className:"layout",children:[Object(i.jsx)(y,{}),Object(i.jsx)(g,{})]})}var C=function(){return Object(i.jsx)(p,{})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(C,{})}),document.getElementById("root")),N()},2:function(e,t,n){}},[[17,1,2]]]);
//# sourceMappingURL=main.eff5f537.chunk.js.map