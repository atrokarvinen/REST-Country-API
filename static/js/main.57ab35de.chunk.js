(this["webpackJsonpcountries-api"]=this["webpackJsonpcountries-api"]||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(6),s=n.n(a),o=(n(14),n(2),n(3)),i=n(0);function u(e){var t=e.country,n=e.countryCardClicked,r=t.name.common,c=t.population,a=t.region,s=t.capital,o=function(e,t){return Object(i.jsxs)("span",{children:[Object(i.jsxs)("span",{className:"info-text-bold",children:[e,": "]}),null!==t&&void 0!==t?t:"N/A"]})};return Object(i.jsxs)("div",{className:"country-card",onClick:function(){return n(t)},children:[Object(i.jsx)("img",{className:"country-card__img",src:t.flags.png,alt:"",style:{borderBottom:"1px solid black"}}),Object(i.jsxs)("div",{className:"country-card__info",children:[Object(i.jsx)("h2",{children:r}),o("Population",c.toLocaleString()),o("Region",a),o("Capital",s)]})]})}function l(e){var t=e.countries,n=e.countryCardClicked;return Object(i.jsx)("div",{className:"country-cards",children:function(){var e=function(e){return e.sort((function(e,t){var n=e.name.common,r=t.name.common;return n>r?1:n<r?-1:0}))}(t);return e.map((function(e,t){return t>7?null:Object(i.jsx)(u,{country:e,countryCardClicked:n},t)}))}()})}function j(e){var t=e.countryProvider,n=e.countries,c=e.setCountries,a=e.setFilteredCountries,s=Object(r.useState)(""),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(r.useState)(void 0),d=Object(o.a)(b,2),m=d[0],h=d[1];Object(r.useEffect)((function(){t.GetCountriesAsync().then((function(e){return c(e)}))}),[]),Object(r.useEffect)((function(){f()}),[n,l,m]);var f=function(){var e=t.FilterCountriesByName(n,l),r=t.FilterCountriesByRegion(e,m);a(r)};return Object(i.jsxs)("div",{className:"search-area",children:[Object(i.jsxs)("div",{className:"search-area__country-textbox",children:[Object(i.jsx)("img",{src:"search-light.svg",alt:"search icon"}),Object(i.jsx)("input",{style:{width:"100%"},placeholder:"Search for a country...",type:"search",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(i.jsxs)("select",{className:"search-area__region-dropdown",placeholder:"Select a region...",value:m,onChange:function(e){return h(e.target.value)},children:[Object(i.jsx)("option",{value:void 0,label:"Select a region..."}),t.GetRegions(n).map((function(e,t){return Object(i.jsx)("option",{value:e.name,label:e.name},t)}))]})]})}var b=n(5),d=n.n(b),m=n(7),h=n(8),f=n(9),O=function(){function e(t){Object(h.a)(this,e),this.restEndPoint=void 0,this.stringsMatchInLowerCase=function(e,t){return e.toLowerCase()===t.toLowerCase()},this.stringIncludesInLowerCase=function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n.includes(r)},this.restEndPoint=t}return Object(f.a)(e,[{key:"GetCountriesAsync",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.restEndPoint);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"GetCountryAbbreviations",value:function(e){for(var t={},n=0;n<e.length;n++)t[e[n].cca3]=e[n];return t}},{key:"GetRegions",value:function(e){var t=e.map((function(e){return e.region}));return Array.from(new Set(t)).map((function(e){return{name:e}}))}},{key:"FilterCountriesByName",value:function(e,t){var n=this;return 0===t.length?e:e.filter((function(e){var r=e.name.common;return n.stringIncludesInLowerCase(r,t)}))}},{key:"FilterCountriesByRegion",value:function(e,t){var n=this;return void 0===t||0===t.length?e:e.filter((function(e){var r=e.region;return n.stringsMatchInLowerCase(r,t)}))}}]),e}();function v(e){var t=e.label,n=e.textValue;return Object(i.jsxs)("p",{children:[Object(i.jsxs)("span",{className:"info-text-bold",children:[t,": "]}),null!==n&&void 0!==n?n:"N/A"]})}function x(e){var t=e.country,n=e.backButtonClick,r=e.countryAbbreviations,c=t.name.common,a=t.name.official,s=Object.values(t.name.nativeName)[0].common,o=t.population,u=t.region,l=t.subregion,j=t.capital,b=t.currencies,d=t.languages,m=t.flags,h=t.borders,f=Object.keys(b).map((function(e){return b[e].name})).join(", "),O=Object.keys(d).map((function(e){return d[e]})).join(", "),x=Object.keys(b).length>1?"Currencies":"Currency",g=Object.keys(d).length>1?"Languages":"Language";return Object(i.jsxs)("div",{className:"country-details",children:[Object(i.jsx)("div",{className:"country-details__back",children:Object(i.jsx)("button",{className:"country-details__back__button",onClick:n,children:Object(i.jsx)("img",{src:"corner-down-left-light.svg",alt:"return icon"})})}),Object(i.jsx)("img",{className:"country-details__image",src:m.png,alt:"Country flag"}),Object(i.jsxs)("div",{className:"country-details__info",children:[Object(i.jsx)("h1",{className:"country-details__info__heading",children:c}),Object(i.jsxs)("div",{className:"country-details__info__texts",children:[Object(i.jsx)(v,{label:"Official name",textValue:a}),Object(i.jsx)(v,{label:"Native name",textValue:s}),Object(i.jsx)(v,{label:"Population",textValue:o.toLocaleString()}),Object(i.jsx)(v,{label:"Region",textValue:u}),Object(i.jsx)(v,{label:"Sub region",textValue:l}),Object(i.jsx)(v,{label:"Capital",textValue:j}),Object(i.jsx)(v,{label:x,textValue:f}),Object(i.jsx)(v,{label:g,textValue:O})]}),Object(i.jsxs)("div",{className:"country-details__info__border-countries",children:[Object(i.jsx)("span",{className:"info-text-bold",style:{alignSelf:"center"},children:"Border countries: "}),(null===h||void 0===h?void 0:h.length)>0?h.map((function(e){var t=r[e].name.common;return Object(i.jsx)("button",{className:"border-country-button",disabled:!0,children:t},t)})):Object(i.jsx)("span",{children:" Country has no border countries."})]})]})]})}function g(){var e,t=Object(r.useState)([]),n=Object(o.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)([]),u=Object(o.a)(s,2),b=u[0],d=u[1],m=Object(r.useState)(void 0),h=Object(o.a)(m,2),f=h[0],v=h[1],g=new O("https://restcountries.com/v3.1/all");return e=void 0!==f?Object(i.jsx)(x,{country:f,backButtonClick:function(){return v(void 0)},countryAbbreviations:g.GetCountryAbbreviations(c)}):Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)(j,{countries:c,setCountries:a,setFilteredCountries:d,countryProvider:g}),Object(i.jsx)(l,{countries:b,countryCardClicked:function(e){return v(e)}})]}),Object(i.jsx)("div",{className:"content",children:e})}function y(){return Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)("h1",{children:"What in the world?"}),Object(i.jsxs)("button",{className:"header__dark-mode-button",onClick:function(){document.body.classList.toggle("dark-mode")},children:[Object(i.jsx)("img",{src:"moon-light.svg",alt:"dark mode moon"}),Object(i.jsx)("span",{children:"Dark mode"})]})]})}function p(){return Object(i.jsxs)("div",{className:"layout",children:[Object(i.jsx)(y,{}),Object(i.jsx)(g,{})]})}var C=function(){return Object(i.jsx)(p,{})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(C,{})}),document.getElementById("root")),_()},2:function(e,t,n){}},[[17,1,2]]]);
//# sourceMappingURL=main.57ab35de.chunk.js.map